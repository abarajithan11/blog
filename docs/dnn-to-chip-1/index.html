<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />

    <title>Neural Chip Design [1/4: Overview]</title>
    <meta name="HandheldFriendly" content="True" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <link rel="preload" href="../assets/css/app.css%3Fv=db4084aed7.css" as="style" />
    <link rel="preload" href="../assets/js/manifest.js%3Fv=db4084aed7" as="script" />
    <link rel="preload" href="../assets/js/vendor/content-api.min.js%3Fv=db4084aed7" as="script" />
    <link rel="preload" href="../assets/js/vendor.js%3Fv=db4084aed7" as="script" />
    <link rel="preload" href="../assets/js/app.js%3Fv=db4084aed7" as="script" />
    <link rel="preconnect" href="https://polyfill.io">
    <link rel="dns-prefetch" href="https://polyfill.io">

      <link rel="preload" href="../assets/css/post.css%3Fv=db4084aed7.css" as="style" />
  <link rel="preload" href="../assets/js/post.js%3Fv=db4084aed7" as="script" />


    <style>
      /* These font-faces are here to make fonts work if the Ghost instance is installed in a subdirectory */

      /* source-sans-pro-regular */
      @font-face {
        font-family: 'Source Sans Pro';
        font-style: normal;
        font-weight: 400;
        font-display: swap;
        src: local('SourceSansPro-Regular'),
            url("../assets/fonts/source-sans-pro/latin/source-sans-pro-regular.woff2%3Fv=db4084aed7") format('woff2'),
            url("../assets/fonts/source-sans-pro/latin/source-sans-pro-regular.woff%3Fv=db4084aed7") format('woff');
      }

      /* source-sans-pro-600 */
      @font-face {
        font-family: 'Source Sans Pro';
        font-style: normal;
        font-weight: 600;
        font-display: swap;
        src: local('SourceSansPro-SemiBold'),
            url("../assets/fonts/source-sans-pro/latin/source-sans-pro-600.woff2%3Fv=db4084aed7") format('woff2'),
            url("../assets/fonts/source-sans-pro/latin/source-sans-pro-600.woff%3Fv=db4084aed7") format('woff');
      }

      /* source-sans-pro-700 */
      @font-face {
        font-family: 'Source Sans Pro';
        font-style: normal;
        font-weight: 700;
        font-display: swap;
        src: local('SourceSansPro-Bold'),
            url("../assets/fonts/source-sans-pro/latin/source-sans-pro-700.woff2%3Fv=db4084aed7") format('woff2'),
            url("../assets/fonts/source-sans-pro/latin/source-sans-pro-700.woff%3Fv=db4084aed7") format('woff');
      }

      /* iconmoon */
      @font-face {
        font-family: 'icomoon';
        font-weight: normal;
        font-style: normal;
        font-display: swap;
        src: url("../assets/fonts/icomoon/icomoon.eot%3F101fc3%3Fv=db4084aed7");
        src: url("../assets/fonts/icomoon/icomoon.eot%3F101fc3") format('embedded-opentype'),
        url("../assets/fonts/icomoon/icomoon.ttf%3F101fc3%3Fv=db4084aed7") format('truetype'),
        url("../assets/fonts/icomoon/icomoon.woff%3F101fc3%3Fv=db4084aed7") format('woff'),
        url("../assets/fonts/icomoon/icomoon.svg%3F101fc3") format('svg');
      }
    </style>

    <link rel="stylesheet" type="text/css" href="../assets/css/app.css%3Fv=db4084aed7.css" media="screen" />

      <link rel="stylesheet" type="text/css" href="../assets/css/post.css%3Fv=db4084aed7.css" media="screen" />


    

    <meta name="description" content="I built Kraken, an ASIC/FPGA engine for DNN inference that beats SOTA. This series outlines my workflow: how I integrated my SystemVerilog, Python (PyTorch, TF, Numpy), C++, TCL codes, and multiple different software tools." />
    <link rel="icon" href="../favicon.png" type="image/png" />
    <link rel="canonical" href="index.html" />
    <meta name="referrer" content="no-referrer-when-downgrade" />
    <link rel="amphtml" href="amp/index.html" />
    
    <meta property="og:site_name" content="Aba&#x27;s Blog" />
    <meta property="og:type" content="article" />
    <meta property="og:title" content="Neural Chip Design [1/4: Overview]" />
    <meta property="og:description" content="I built Kraken, an ASIC/FPGA engine for DNN inference that beats SOTA. This series outlines my workflow: how I integrated my SystemVerilog, Python (PyTorch, TF, Numpy), C++, TCL codes, and multiple different software tools." />
    <meta property="og:url" content="https://aba-blog.xyz/dnn-to-chip-1/" />
    <meta property="og:image" content="https://aba-blog.xyz/content/images/size/w2000/2022/01/cov-14.jpg" />
    <meta property="article:published_time" content="2022-01-28T16:57:48.000Z" />
    <meta property="article:modified_time" content="2022-01-31T03:53:20.000Z" />
    <meta property="article:tag" content="Technical Projects" />
    
    <meta property="article:publisher" content="https://www.facebook.com/abarajithan11" />
    <meta property="article:author" content="https://www.facebook.com/abarajithan11" />
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:title" content="Neural Chip Design [1/4: Overview]" />
    <meta name="twitter:description" content="I built Kraken, an ASIC/FPGA engine for DNN inference that beats SOTA. This series outlines my workflow: how I integrated my SystemVerilog, Python (PyTorch, TF, Numpy), C++, TCL codes, and multiple different software tools." />
    <meta name="twitter:url" content="https://aba-blog.xyz/dnn-to-chip-1/" />
    <meta name="twitter:image" content="https://aba-blog.xyz/content/images/size/w2000/2022/01/cov-14.jpg" />
    <meta name="twitter:label1" content="Written by" />
    <meta name="twitter:data1" content="Abarajithan G" />
    <meta name="twitter:label2" content="Filed under" />
    <meta name="twitter:data2" content="Technical Projects" />
    <meta property="og:image:width" content="2000" />
    <meta property="og:image:height" content="1651" />
    
    <script type="application/ld+json">
{
    "@context": "https://schema.org",
    "@type": "Article",
    "publisher": {
        "@type": "Organization",
        "name": "Aba&#x27;s Blog",
        "url": "https://aba-blog.xyz/",
        "logo": {
            "@type": "ImageObject",
            "url": "https://aba-blog.xyz/favicon.png",
            "width": 60,
            "height": 60
        }
    },
    "author": {
        "@type": "Person",
        "name": "Abarajithan G",
        "image": {
            "@type": "ImageObject",
            "url": "https://aba-blog.xyz/content/images/2021/11/im_large_vignette.jpg",
            "width": 1600,
            "height": 1600
        },
        "url": "https://aba-blog.xyz/author/aba/",
        "sameAs": [
            "https://www.linkedin.com/in/abarajithan11",
            "https://www.facebook.com/abarajithan11"
        ]
    },
    "headline": "Neural Chip Design [1/4: Overview]",
    "url": "https://aba-blog.xyz/dnn-to-chip-1/",
    "datePublished": "2022-01-28T16:57:48.000Z",
    "dateModified": "2022-01-31T03:53:20.000Z",
    "image": {
        "@type": "ImageObject",
        "url": "https://aba-blog.xyz/content/images/2022/01/cov-14.jpg",
        "width": 2000,
        "height": 1651
    },
    "keywords": "Technical Projects",
    "description": "I built Kraken, an ASIC/FPGA engine for DNN inference that beats SOTA. This series outlines my workflow: how I integrated my SystemVerilog, Python (PyTorch, TF, Numpy), C++, TCL codes, and multiple different software tools.",
    "mainEntityOfPage": {
        "@type": "WebPage",
        "@id": "https://aba-blog.xyz/"
    }
}
    </script>

    <meta name="generator" content="Ghost 4.32" />
    <link rel="alternate" type="application/rss+xml" title="Aba&#x27;s Blog" href="../rss/index.html" />
    <script defer src="https://unpkg.com/@tryghost/portal@~1.13.0/umd/portal.min.js" data-ghost="https://aba-blog.xyz/" crossorigin="anonymous"></script><style id="gh-members-styles">.gh-post-upgrade-cta-content,
.gh-post-upgrade-cta {
    display: flex;
    flex-direction: column;
    align-items: center;
    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;
    text-align: center;
    width: 100%;
    color: #ffffff;
    font-size: 16px;
}

.gh-post-upgrade-cta-content {
    border-radius: 8px;
    padding: 40px 4vw;
}

.gh-post-upgrade-cta h2 {
    color: #ffffff;
    font-size: 28px;
    letter-spacing: -0.2px;
    margin: 0;
    padding: 0;
}

.gh-post-upgrade-cta p {
    margin: 20px 0 0;
    padding: 0;
}

.gh-post-upgrade-cta small {
    font-size: 16px;
    letter-spacing: -0.2px;
}

.gh-post-upgrade-cta a {
    color: #ffffff;
    cursor: pointer;
    font-weight: 500;
    box-shadow: none;
    text-decoration: underline;
}

.gh-post-upgrade-cta a:hover {
    color: #ffffff;
    opacity: 0.8;
    box-shadow: none;
    text-decoration: underline;
}

.gh-post-upgrade-cta a.gh-btn {
    display: block;
    background: #ffffff;
    text-decoration: none;
    margin: 28px 0 0;
    padding: 8px 18px;
    border-radius: 4px;
    font-size: 16px;
    font-weight: 600;
}

.gh-post-upgrade-cta a.gh-btn:hover {
    opacity: 0.92;
}</style>
    <script defer src="../public/cards.min.js%3Fv=db4084aed7"></script>
    <link rel="stylesheet" type="text/css" href="../public/cards.min.css%3Fv=db4084aed7.css">
    <meta property="fb:admins" content="abarajithan11"/>
<style>
.post-template {
    text-align: justify;
}
</style>

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.10.1/dist/katex.css" crossorigin="anonymous">
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.10.1/dist/katex.js" crossorigin="anonymous"></script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.10.1/dist/contrib/auto-render.min.js" crossorigin="anonymous" onload="renderMathInElement(document.body);"></script>
<script>
  const ghostSearchApiKey = 'f615b479aa70555d4c87186458'
</script>


<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.26.0/plugins/toolbar/prism-toolbar.min.css" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism-themes/1.9.0/prism-coldark-dark.min.css" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.26.0/plugins/line-numbers/prism-line-numbers.min.css" />
<style>
    pre[class*=language-] {
        margin: 0.5em 0;
        font-size: 0.8rem;
        background: #111;
    }
</style><style>:root {--ghost-accent-color: #2861bd;}</style>

    <style>
      :root {
        --primary-subtle-color: var(--ghost-accent-color) !important;
      }
    </style>

    <script>
      // @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&dn=expat.txt Expat
      const ghostHost = "https://aba-blog.xyz"
      // @license-end
    </script>

  </head>
  <body class="post-template tag-tech-projects">
    



  
<header class="m-header with-picture js-header">
  <div class="m-mobile-topbar" data-aos="fade-down">
    <button class="m-icon-button in-mobile-topbar js-open-menu" aria-label="Open menu">
      <span class="icon-menu" aria-hidden="true"></span>
    </button>
      <a href="../index.html" class="m-site-name in-mobile-topbar">
        Aba&#x27;s Blog
      </a>
    <button class="m-icon-button in-mobile-topbar js-open-search" aria-label="Open search">
      <span class="icon-search" aria-hidden="true"></span>
    </button>
  </div>

  <div class="m-menu js-menu">
    <button class="m-icon-button outlined as-close-menu js-close-menu" aria-label="Close menu">
      <span class="icon-close"></span>
    </button>
    <div class="m-menu__main" data-aos="fade-down">
      <div class="l-wrapper">
        <div class="m-nav js-main-nav">
          <nav class="m-nav__left js-main-nav-left" role="navigation" aria-label="Main menu">
            <ul>
                <li class="only-desktop">
                  <a href="../index.html" class="m-site-name in-desktop-menu">
                    Aba&#x27;s Blog
                  </a>
                </li>
                
    <li class="nav-tech-projects">
      <a href="../tag/tech-projects/index.html">Tech Projects</a>
    </li>
    <li class="nav-travels">
      <a href="../tag/travels/index.html">Travels</a>
    </li>
    <li class="nav-thoughts">
      <a href="../tag/thoughts/index.html">Thoughts</a>
    </li>
    <li class="nav-stories">
      <a href="../tag/stories/index.html">Stories</a>
    </li>
    <li class="nav-reviews">
      <a href="../tag/reviews/index.html">Reviews</a>
    </li>
    <li class="nav-teaching">
      <a href="../tag/teaching/index.html">Teaching</a>
    </li>
    <li class="nav-community-work">
      <a href="../tag/community-work/index.html">Community Work</a>
    </li>

              <li class="submenu-option js-submenu-option">
                <button class="m-icon-button in-menu-main more js-toggle-submenu" aria-label="Open submenu">
                  <span class="icon-more" aria-hidden="true"></span>
                </button>
                <div class="m-submenu js-submenu">
                  <div class="l-wrapper in-submenu">
                    <section class="m-recent-articles">
                      <h3 class="m-submenu-title in-recent-articles">Recent articles</h3>
                          <div class="glide js-recent-slider">
                            <div class="glide__track" data-glide-el="track">
                              <div class="glide__slides">
                                <div class="glide__slide">
                                  <a href="../dnn-to-chip-4/index.html" class="m-recent-article">
                                    <div class="m-recent-article__picture ">
                                        <img src="../content/images/size/w300/2022/01/sys-4.jpg" loading="lazy" alt="">
                                    </div>
                                    <h3 class="m-recent-article__title js-recent-article-title" title="Neural Chip Design [4/4: SoC Integration &amp; Firmware]">
                                      Neural Chip Design [4/4: SoC Integration &amp; Firmware]
                                    </h3>
                                    <span class="m-recent-article__date">4 days ago</span>
                                  </a>
                                </div>
                                <div class="glide__slide">
                                  <a href="../dnn-to-chip-3/index.html" class="m-recent-article">
                                    <div class="m-recent-article__picture ">
                                        <img src="../content/images/size/w300/2022/01/vlcsnap-2022-01-30-00h01m19s402.png" loading="lazy" alt="">
                                    </div>
                                    <h3 class="m-recent-article__title js-recent-article-title" title="Neural Chip Design [3/4: RTL Design &amp; Verification]">
                                      Neural Chip Design [3/4: RTL Design &amp; Verification]
                                    </h3>
                                    <span class="m-recent-article__date">4 days ago</span>
                                  </a>
                                </div>
                                <div class="glide__slide">
                                  <a href="../dnn-to-chip-2/index.html" class="m-recent-article">
                                    <div class="m-recent-article__picture ">
                                        <img src="../content/images/size/w300/2022/01/b6f87d_cec29645262b492f95a30c10edec1090_mv2.jpg" loading="lazy" alt="">
                                    </div>
                                    <h3 class="m-recent-article__title js-recent-article-title" title="Neural Chip Design [2/4: Golden Model]">
                                      Neural Chip Design [2/4: Golden Model]
                                    </h3>
                                    <span class="m-recent-article__date">4 days ago</span>
                                  </a>
                                </div>
                                <div class="glide__slide">
                                  <a href="index.html" class="m-recent-article">
                                    <div class="m-recent-article__picture ">
                                        <img src="../content/images/size/w300/2022/01/cov-14.jpg" loading="lazy" alt="">
                                    </div>
                                    <h3 class="m-recent-article__title js-recent-article-title" title="Neural Chip Design [1/4: Overview]">
                                      Neural Chip Design [1/4: Overview]
                                    </h3>
                                    <span class="m-recent-article__date">4 days ago</span>
                                  </a>
                                </div>
                              </div>
                            </div>
                          </div>
                    </section>
                    <section class="m-tags">
                      <h3 class="m-submenu-title">Tags</h3>
                        <ul>
                            <li>
                              <a href="../tag/australia/index.html">Australia</a>
                            </li>
                            <li>
                              <a href="../tag/camping/index.html">Camping</a>
                            </li>
                            <li>
                              <a href="../tag/community-work/index.html">Community Work</a>
                            </li>
                            <li>
                              <a href="../tag/india/index.html">India</a>
                            </li>
                            <li>
                              <a href="../tag/reviews/index.html">Reviews</a>
                            </li>
                            <li>
                              <a href="../tag/stories/index.html">Stories</a>
                            </li>
                            <li>
                              <a href="../tag/teaching/index.html">Teaching</a>
                            </li>
                            <li>
                              <a href="../tag/tech-projects/index.html">Technical Projects</a>
                            </li>
                            <li>
                              <a href="../tag/thoughts/index.html">Thoughts</a>
                            </li>
                            <li>
                              <a href="../tag/travels/index.html">Travels</a>
                            </li>
                        </ul>
                    </section>
                  </div>
                </div>
              </li>
            </ul>
          </nav>
          <div class="m-nav__right">
            <button class="m-icon-button in-menu-main js-open-search" aria-label="Open search">
              <span class="icon-search" aria-hidden="true"></span>
            </button>
            <div class="m-toggle-darkmode js-tooltip" data-tippy-content="Toggle light/dark mode" tabindex="0">
              <label for="toggle-darkmode" class="sr-only">
                Toggle light/dark mode
              </label>
              <input id="toggle-darkmode" type="checkbox" class="js-toggle-darkmode">
              <div>
                <span class="icon-moon moon" aria-hidden="true"></span>
                <span class="icon-sunny sun" aria-hidden="true"></span>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

</header>

<main class="main-wrap">
    
  <section class="m-hero with-picture" data-aos="fade">
    <div class="m-hero__picture in-post">
      <img srcset="../content/images/size/w300/2022/01/cov-14.jpg 300w, ../content/images/size/w600/2022/01/cov-14.jpg 600w, ../content/images/size/w1000/2022/01/cov-14.jpg 1000w, ../content/images/size/w2000/2022/01/cov-14.jpg 2000w" sizes="(max-width: 600px) 600px, (max-width: 1000px) 1000px, 2000px" src="../content/images/size/w2000/2022/01/cov-14.jpg" alt="" />
    </div>
    </section>
  
  <article>
    <div class="l-content in-post">
        <div class="l-wrapper in-post  js-aos-wrapper" data-aos="fade-up"
          data-aos-delay="300">
          <div
            class="l-post-content js-progress-content">
            <header class="m-heading">
              <h1 class="m-heading__title in-post">Neural Chip Design [1/4: Overview]</h1>
              <div class="m-heading__meta">
                  <a href="../tag/tech-projects/index.html" class="m-heading__meta__tag">Technical Projects</a>
                  <span class="m-heading__meta__divider" aria-hidden="true">&bull;</span>
                <span class="m-heading__meta__time">Jan 28, 2022</span>
              </div>
            </header>
            <div class="pos-relative js-post-content">
              <div class="m-share">
                <div class="m-share__content js-sticky">
                  <a href="https://www.facebook.com/sharer/sharer.php?u=https://aba-blog.xyz/dnn-to-chip-1/"
                    class="m-icon-button filled in-share" target="_blank" rel="noopener" aria-label="Facebook">
                    <span class="icon-facebook" aria-hidden="true"></span>
                  </a>
                  <a href="https://twitter.com/intent/tweet?text=Neural%20Chip%20Design%20%5B1%2F4%3A%20Overview%5D&url=https://aba-blog.xyz/dnn-to-chip-1/"
                    class="m-icon-button filled in-share" target="_blank" rel="noopener" aria-label="Twitter">
                    <span class="icon-twitter" aria-hidden="true"></span>
                  </a>
                  <a href="https://www.linkedin.com/sharing/share-offsite/?url=https://aba-blog.xyz/dnn-to-chip-1/"
                    class="m-icon-button filled in-share" target="_blank" rel="noopener" aria-label="LinkedIn">
                    <span class="icon-linkedin" aria-hidden="true"></span>
                  </a>
                  <a href="https://reddit.com/submit?url=https://aba-blog.xyz/dnn-to-chip-1/&title=Neural%20Chip%20Design%20%5B1%2F4%3A%20Overview%5D"
                    class="m-icon-button filled in-share" target="_blank" rel="noopener" aria-label="Reddit">
                    <span class="icon-reddit" aria-hidden="true"></span>
                  </a>
                  <button class="m-icon-button filled in-share progress js-scrolltop" aria-label="Scroll to top">
                    <span class="icon-arrow-top" aria-hidden="true"></span>
                    <svg aria-hidden="true">
                      <circle class="progress-ring__circle js-progress" fill="transparent" r="0" />
                    </svg>
                  </button>
                </div>
              </div>
              <h2 id="kraken-engine">Kraken Engine</h2><p>In March 2020, I started building Kraken as a personal, passion project, an engine capable of accelerating any kind of Deep Neural Network (DNN) with convolutional layers, fully-connected layers, and matrix products using a single uniform dataflow pattern while consuming remarkably low on-chip area. I synthesized it in 65-nm CMOS technology at 400 MHz, packing 672 MACs in 7.3 mm2, with a peak performance of 537.6 Gops.</p><p>When benchmarked on AlexNet [336.6 fps], VGG16 [17.5 fps], and ResNet-50 [64.2 fps] (yeah, those are old, but those are the widely used benchmarks), it outperforms the state-of-the-art ASIC architectures in terms of overall performance efficiency, DRAM accesses, arithmetic intensity, and throughput, with 5.8x more Gops/mm2 and 1.6x more Gops/W.</p><p>I submitted the design as a  journal paper to IEEE TCAS-1, the #3 journal in the field, and it is currently under review. You can find the paper at the following link.</p><figure class="kg-card kg-bookmark-card"><a class="kg-bookmark-container" href="https://arxiv.org/abs/2112.02793"><div class="kg-bookmark-content"><div class="kg-bookmark-title">Kraken: An Efficient Engine with a Uniform Dataflow for Deep Neural Networks</div><div class="kg-bookmark-description">Deep neural networks (DNNs) have been successfully employed in a multitude ofapplications with remarkable performance. As such performance is achieved at asignificant computational cost, several embedded applications demand fast andefficient hardware accelerators for DNNs. Previously proposed app…</div><div class="kg-bookmark-metadata"><img class="kg-bookmark-icon" src="https://static.arxiv.org/static/browse/0.3.2.8/images/icons/favicon.ico" alt=""><span class="kg-bookmark-author">arXiv.org</span><span class="kg-bookmark-publisher">G Abarajithan</span></div></div><div class="kg-bookmark-thumbnail"><img src="https://static.arxiv.org/icons/twitter/arxiv-logo-twitter-square.png" alt=""></div></a></figure><figure class="kg-card kg-gallery-card kg-width-wide kg-card-hascaption"><div class="kg-gallery-container"><div class="kg-gallery-row"><div class="kg-gallery-image"><img src="../content/images/2022/01/image_o-2-1.png" width="1062" height="1042" loading="lazy" alt srcset="../content/images/size/w600/2022/01/image_o-2-1.png 600w, ../content/images/size/w1000/2022/01/image_o-2-1.png 1000w, ../content/images/2022/01/image_o-2-1.png 1062w" sizes="(min-width: 720px) 720px"></div><div class="kg-gallery-image"><img src="../content/images/2022/01/quant-2.jpg" width="1280" height="720" loading="lazy" alt srcset="../content/images/size/w600/2022/01/quant-2.jpg 600w, ../content/images/size/w1000/2022/01/quant-2.jpg 1000w, ../content/images/2022/01/quant-2.jpg 1280w" sizes="(min-width: 720px) 720px"></div><div class="kg-gallery-image"><img src="../content/images/2022/01/kraken2-2.png" width="959" height="908" loading="lazy" alt srcset="../content/images/size/w600/2022/01/kraken2-2.png 600w, ../content/images/2022/01/kraken2-2.png 959w" sizes="(min-width: 720px) 720px"></div></div><div class="kg-gallery-row"><div class="kg-gallery-image"><img src="../content/images/2022/01/kraken31-1.png" width="1092" height="1308" loading="lazy" alt srcset="../content/images/size/w600/2022/01/kraken31-1.png 600w, ../content/images/size/w1000/2022/01/kraken31-1.png 1000w, ../content/images/2022/01/kraken31-1.png 1092w" sizes="(min-width: 720px) 720px"></div><div class="kg-gallery-image"><img src="../content/images/2022/01/vlcsnap-2022-01-30-00h01m19s402-1.png" width="1448" height="724" loading="lazy" alt srcset="../content/images/size/w600/2022/01/vlcsnap-2022-01-30-00h01m19s402-1.png 600w, ../content/images/size/w1000/2022/01/vlcsnap-2022-01-30-00h01m19s402-1.png 1000w, ../content/images/2022/01/vlcsnap-2022-01-30-00h01m19s402-1.png 1448w" sizes="(min-width: 720px) 720px"></div><div class="kg-gallery-image"><img src="../content/images/2022/01/image_o-3-1.png" width="723" height="862" loading="lazy" alt srcset="../content/images/size/w600/2022/01/image_o-3-1.png 600w, ../content/images/2022/01/image_o-3-1.png 723w" sizes="(min-width: 720px) 720px"></div></div><div class="kg-gallery-row"><div class="kg-gallery-image"><img src="../content/images/2022/01/sys-5.jpg" width="2000" height="1125" loading="lazy" alt srcset="../content/images/size/w600/2022/01/sys-5.jpg 600w, ../content/images/size/w1000/2022/01/sys-5.jpg 1000w, ../content/images/size/w1600/2022/01/sys-5.jpg 1600w, ../content/images/size/w2400/2022/01/sys-5.jpg 2400w" sizes="(min-width: 720px) 720px"></div><div class="kg-gallery-image"><img src="../content/images/2022/01/image_o-12_o-1.png" width="1920" height="1042" loading="lazy" alt srcset="../content/images/size/w600/2022/01/image_o-12_o-1.png 600w, ../content/images/size/w1000/2022/01/image_o-12_o-1.png 1000w, ../content/images/size/w1600/2022/01/image_o-12_o-1.png 1600w, ../content/images/2022/01/image_o-12_o-1.png 1920w" sizes="(min-width: 720px) 720px"></div><div class="kg-gallery-image"><img src="../content/images/2022/01/c-1.png" width="980" height="911" loading="lazy" alt srcset="../content/images/size/w600/2022/01/c-1.png 600w, ../content/images/2022/01/c-1.png 980w" sizes="(min-width: 720px) 720px"></div></div></div><figcaption>An overview of the series</figcaption></figure><h2 id="technologies-used">Technologies Used</h2><p>Throughout the project, I wrote code, moved back and forth, and interfaced between several technologies, from different domains such as hardware (RTL), software, and machine vision.</p><ul><li>Python - Numpy, Tensorflow, PyTorch</li><li>SystemVerilog - RTL, Testbenches</li><li>TCL - Scripting the Vivado project, ASIC synthesis</li><li>C++ - Firmware to control the system-on-chip</li><li>Tools: Xilinx (Vivado, SDK), Cadence (Genus, Innovus)...</li></ul><div class="kg-card kg-header-card kg-width-full kg-size-small kg-style-dark" style="" data-kg-background-image=""><h2 class="kg-header-card-header">My Workflow</h2></div><p>Through the Kraken project, I developed a workflow of 15 steps, which helps me to move between golden models in python, RTL designs &amp; simulations in SystemVerilog, and firmware in C++.  I have written them in detail as three more blog posts with code examples. </p><h3 id="24-golden-model">2/4: Golden Model</h3><!--kg-card-begin: markdown--><ol>
<li><strong>PyTorch/TensorFlow</strong>: Explore DNN models, quantize &amp; extract weights</li>
<li><strong>Golden Model in Python (NumPy stack)</strong>: Custom OOP framework, process the weights, convert to custom datatypes</li>
</ol>
<!--kg-card-end: markdown--><figure class="kg-card kg-bookmark-card"><a class="kg-bookmark-container" href="https://aba-blog.xyz/dnn-to-chip-2/index.html"><div class="kg-bookmark-content"><div class="kg-bookmark-title">Neural Chip Design [2/4: Golden Model]</div><div class="kg-bookmark-description">I wrote golden models in python to model the intended behavior of the chip. This outlines how I got pretrained models, extracted weights, applied my own quantization...etc.</div><div class="kg-bookmark-metadata"><img class="kg-bookmark-icon" src="https://aba-blog.xyz/favicon.png" alt=""><span class="kg-bookmark-author">Aba&#x27;s Blog</span><span class="kg-bookmark-publisher">Abarajithan G</span></div></div><div class="kg-bookmark-thumbnail"><img src="https://aba-blog.xyz/content/images/size/w2000/2022/01/b6f87d_cec29645262b492f95a30c10edec1090_mv2.jpg" alt=""></div></a></figure><h3 id="34-rtl-design-verification">3/4: RTL Design &amp; Verification</h3><!--kg-card-begin: markdown--><ol start="3">
<li><strong>Whiteboard</strong>: Design hardware modules, state machines</li>
<li><strong>RTL Design</strong>: SystemVerilog/Verilog for the whiteboard designs</li>
<li><strong>Generate Test Vectors</strong>: using Python Notebooks</li>
<li><strong>Testbenches</strong>: SystemVerilog OOP testbenches to read the input vector (txt file), randomly control the valid &amp; ready signals and get output vectors (txt files)</li>
<li><strong>Debug</strong>: Python notebooks to compare the expected output with simulation output and to find which dimensions have errors.</li>
<li><strong>Microsoft Excel</strong>: I manually simulate the values in wires with excel to debug</li>
<li>Repeat 3-8: For every module &amp; every level of integration</li>
<li><strong>ASIC Synthesis</strong></li>
</ol>
<!--kg-card-end: markdown--><figure class="kg-card kg-bookmark-card"><a class="kg-bookmark-container" href="https://aba-blog.xyz/dnn-to-chip-3/index.html"><div class="kg-bookmark-content"><div class="kg-bookmark-title">Neural Chip Design [3/4: Digital Design &amp; Verification]</div><div class="kg-bookmark-description">How I designed modules in the whiteboard, then wrote SystemVerilog RTL, built testbenches, prepared test vectors, and debugged them.</div><div class="kg-bookmark-metadata"><img class="kg-bookmark-icon" src="https://aba-blog.xyz/favicon.png" alt=""><span class="kg-bookmark-author">Aba&#x27;s Blog</span><span class="kg-bookmark-publisher">Abarajithan G</span></div></div><div class="kg-bookmark-thumbnail"><img src="https://aba-blog.xyz/content/images/size/w2000/2022/01/vlcsnap-2022-01-30-00h01m19s402.png" alt=""></div></a></figure><h3 id="44-system-on-chip-integration-firmware-development">4/4: System-on-Chip Integration &amp; Firmware Development</h3><!--kg-card-begin: markdown--><ol start="11">
<li><strong>SoC Block Design</strong>: Build FPGA projects with Vivado manually and synthesize</li>
<li><strong>Automation</strong>: TCL scripts to automate the project building and configuration</li>
<li><strong>C++ Firmware</strong>: To control the custom modules</li>
<li><strong>Hardware Verification</strong>: Test on FPGA, compare output to golden model</li>
<li>Repeat 11-14</li>
</ol>
<!--kg-card-end: markdown--><figure class="kg-card kg-bookmark-card"><a class="kg-bookmark-container" href="https://aba-blog.xyz/dnn-to-chip-4/index.html"><div class="kg-bookmark-content"><div class="kg-bookmark-title">Neural Chip Design [4/4: SoC Integration &amp; Firmware]</div><div class="kg-bookmark-description">SoC design involves integrating other IPs, automating projects with TCL, writing C++ firmware, and testing on PSoC hardware.</div><div class="kg-bookmark-metadata"><img class="kg-bookmark-icon" src="https://aba-blog.xyz/favicon.png" alt=""><span class="kg-bookmark-author">Aba&#x27;s Blog</span><span class="kg-bookmark-publisher">Abarajithan G</span></div></div><div class="kg-bookmark-thumbnail"><img src="https://aba-blog.xyz/content/images/size/w2000/2022/01/sys-4.jpg" alt=""></div></a></figure><hr><div class="kg-card kg-header-card kg-width-full kg-size-small kg-style-dark" style="" data-kg-background-image=""><h2 class="kg-header-card-header">Directory Structure</h2></div><p>Simpler FPGA/ASIC projects can be done within a single folder. However, as the scope and complexity of the project grow, the need to work with multiple languages (Python, SystemVerilog, C, TCL...)  and tools (Jupyter, Vivado, SDK, Genus, Innovus...) can grow out of control. </p><p>The project needs to be version-controlled (git) as well, to prevent data loss and to move between different stages of development like a time machine. However, FPGA and ASIC tools create a lot of internal files, which do not generalize between machines. Therefore, the building of such projects is automated via TCL scripts, and only such scripts and the source files are git-tracked.</p><p>The following is the structure I developed through my Kraken project.</p><pre><code>kraken
│
├── hdl
│   ├── src        : rtl designs (SystemVerilog/Verilog)
│   ├── tb         : SystemVerilog testbenches
│   ├── include    : V/SV files with macros
│   └── external   : open-source SV/V libraries
│
├── fpga
│   ├── scripts    : TCL scripts to build &amp; configure Vivado projects from source
│   ├── projects   : Vivado projects [not git tracked]
│   └── wave       : waveform scripts (wcfg)
│
├── asic
│   ├── scripts    : TCL scripts for synth, p&amp;r from source
│   ├── reports    : reports from asic tools
│   ├── work       : working folder for ASIC tools, [not git tracked]
│   ├── log        : [not git tracked]
│   └── pdk        : technology node files, several GBs [not git tracked]
│
├── python
│   ├── dnns       : TensorFlow, Torch, TfLite extraction
│   ├── framework  : Custom framework
│   └── golden     : Golden models
│
├── data           : [not git tracked]
│   ├── input      : input test vectors, text files, generated by python scripts
│   ├── output_exp : expected output vectors
│   ├── output_sim : output vectors from hardware simulation
│   └── output_fpga: output vectors from FPGA
│
├── cpp
│   ├── src        : C++ firmware for the controller
│   ├── include    : header files
│   └── external   : external libraries
│
└── doc            : documentation: excel files, drawings...</code></pre><h2 id="next">Next:</h2><figure class="kg-card kg-bookmark-card"><a class="kg-bookmark-container" href="https://aba-blog.xyz/dnn-to-chip-2/index.html"><div class="kg-bookmark-content"><div class="kg-bookmark-title">Neural Chip Design [2/4: Golden Model]</div><div class="kg-bookmark-description">I wrote golden models in python to model the intended behavior of the chip. This outlines how I got pretrained models, extracted weights, applied my own quantization...etc.</div><div class="kg-bookmark-metadata"><img class="kg-bookmark-icon" src="https://aba-blog.xyz/favicon.png" alt=""><span class="kg-bookmark-author">Aba&#x27;s Blog</span><span class="kg-bookmark-publisher">Abarajithan G</span></div></div><div class="kg-bookmark-thumbnail"><img src="https://aba-blog.xyz/content/images/size/w2000/2022/01/b6f87d_cec29645262b492f95a30c10edec1090_mv2.jpg" alt=""></div></a></figure><h2></h2>
                <section class="m-tags in-post">
                  <h3 class="m-submenu-title">Tags</h3>
                  <ul>
                      <li>
                        <a href="../tag/tech-projects/index.html" title="Technical Projects">Technical Projects</a>
                      </li>
                  </ul>
                </section>
            </div>
          </div>
        </div>

          <section class="m-comments">
            <div class="l-wrapper in-comments">
              <div class="fb-comments" data-href="https://aba-blog.xyz/dnn-to-chip-1/" data-width="100%" data-numposts="10" data-colorscheme="light" style="background-color: white"></div>
            </div>
          </section>


          <section class="m-recommended">
            <div class="l-wrapper in-recommended">
              <h3 class="m-section-title in-recommended">Recommended for you</h3>
              <div class="m-recommended-articles">
                <div class="m-recommended-slider glide js-recommended-slider">
                  <div class="glide__track" data-glide-el="track">
                    <div class="glide__slides">
                      
    <div class="m-recommended-slider__item glide__slide">
  <article class="m-article-card  post tag-tech-projects">
    <div class="m-article-card__picture">
      <a href="../dnn-to-chip-4/index.html" class="m-article-card__picture-link" aria-hidden="true" tabindex="-1"></a>
        <img class="m-article-card__picture-background" src="../content/images/size/w600/2022/01/sys-4.jpg" loading="lazy" alt="">
      <a href="../author/aba/index.html" class="m-article-card__author js-tooltip" aria-label="Abarajithan G" data-tippy-content="Posted by Abarajithan G ">
          <div style="background-image: url(../content/images/size/w100/2021/11/im_large_vignette.jpg);"></div>
      </a>
    </div>
      <div class="m-article-card__info">
        <a href="../tag/tech-projects/index.html" class="m-article-card__tag">Technical Projects</a>
      <a href="../dnn-to-chip-4/index.html" class="m-article-card__info-link" aria-label="Neural Chip Design [4/4: SoC Integration &amp; Firmware]">
        <div>
          <h2 class="m-article-card__title js-article-card-title " title="Neural Chip Design [4/4: SoC Integration &amp; Firmware]">
            Neural Chip Design [4/4: SoC Integration &amp; Firmware]
          </h2>
        </div>
        <div class="m-article-card__timestamp">
          <span>4 days ago</span>
          <span>&bull;</span>
          <span>10 min read</span>
        </div>
      </a>
    </div>
  </article>
    </div>
    <div class="m-recommended-slider__item glide__slide">
  <article class="m-article-card  post tag-tech-projects">
    <div class="m-article-card__picture">
      <a href="../dnn-to-chip-3/index.html" class="m-article-card__picture-link" aria-hidden="true" tabindex="-1"></a>
        <img class="m-article-card__picture-background" src="../content/images/size/w600/2022/01/vlcsnap-2022-01-30-00h01m19s402.png" loading="lazy" alt="">
      <a href="../author/aba/index.html" class="m-article-card__author js-tooltip" aria-label="Abarajithan G" data-tippy-content="Posted by Abarajithan G ">
          <div style="background-image: url(../content/images/size/w100/2021/11/im_large_vignette.jpg);"></div>
      </a>
    </div>
      <div class="m-article-card__info">
        <a href="../tag/tech-projects/index.html" class="m-article-card__tag">Technical Projects</a>
      <a href="../dnn-to-chip-3/index.html" class="m-article-card__info-link" aria-label="Neural Chip Design [3/4: RTL Design &amp; Verification]">
        <div>
          <h2 class="m-article-card__title js-article-card-title " title="Neural Chip Design [3/4: RTL Design &amp; Verification]">
            Neural Chip Design [3/4: RTL Design &amp; Verification]
          </h2>
        </div>
        <div class="m-article-card__timestamp">
          <span>4 days ago</span>
          <span>&bull;</span>
          <span>12 min read</span>
        </div>
      </a>
    </div>
  </article>
    </div>
    <div class="m-recommended-slider__item glide__slide">
  <article class="m-article-card  post tag-tech-projects">
    <div class="m-article-card__picture">
      <a href="../dnn-to-chip-2/index.html" class="m-article-card__picture-link" aria-hidden="true" tabindex="-1"></a>
        <img class="m-article-card__picture-background" src="../content/images/size/w600/2022/01/b6f87d_cec29645262b492f95a30c10edec1090_mv2.jpg" loading="lazy" alt="">
      <a href="../author/aba/index.html" class="m-article-card__author js-tooltip" aria-label="Abarajithan G" data-tippy-content="Posted by Abarajithan G ">
          <div style="background-image: url(../content/images/size/w100/2021/11/im_large_vignette.jpg);"></div>
      </a>
    </div>
      <div class="m-article-card__info">
        <a href="../tag/tech-projects/index.html" class="m-article-card__tag">Technical Projects</a>
      <a href="../dnn-to-chip-2/index.html" class="m-article-card__info-link" aria-label="Neural Chip Design [2/4: Golden Model]">
        <div>
          <h2 class="m-article-card__title js-article-card-title " title="Neural Chip Design [2/4: Golden Model]">
            Neural Chip Design [2/4: Golden Model]
          </h2>
        </div>
        <div class="m-article-card__timestamp">
          <span>4 days ago</span>
          <span>&bull;</span>
          <span>8 min read</span>
        </div>
      </a>
    </div>
  </article>
    </div>
                    </div>
                  </div>
                  <div data-glide-el="controls" class="glide__arrows js-controls">
                    <button data-glide-dir="<" class="m-icon-button filled in-recommended-articles glide-prev" aria-label="Previous">
                      <span class="icon-arrow-left" aria-hidden="true"></span>
                    </button>
                    <button data-glide-dir=">" class="m-icon-button filled in-recommended-articles glide-next" aria-label="Next">
                      <span class="icon-arrow-right" aria-hidden="true"></span>
                    </button>
                  </div>
                </div>
              </div>
            </div>
          </section>
    </div>
  </article>
</main>



    
<div class="m-search js-search" role="dialog" aria-modal="true" aria-label="Search">
  <button class="m-icon-button outlined as-close-search js-close-search" aria-label="Close search">
    <span class="icon-close" aria-hidden="true"></span>
  </button>
  <div class="m-search__content">
    <form class="m-search__form">
      <div class="pos-relative">
        <span class="icon-search m-search-icon" aria-hidden="true"></span>
        <label for="search-input" class="sr-only">
          Type to search
        </label>
        <input id="search-input" type="text" class="m-input in-search js-input-search" placeholder="Type to search">
      </div>
    </form>
    <div class="js-search-results hide"></div>
    <p class="m-not-found align-center hide js-no-results">
      No results for your search, please try with something else.
    </p>
  </div>
</div>

    
<footer class="m-footer">
  <div class="m-footer__content">
    <nav class="m-footer-social">
        <a href="https://www.facebook.com/abarajithan11" target="_blank" rel="noopener" aria-label="Facebook">
          <span class="icon-facebook" aria-hidden="true"></span>
        </a>
      <a href="https://www.linkedin.com/in/abarajithan11" target="_blank" rel="noopener" aria-label="LinkedIn">
        <span class="icon-linkedin" aria-hidden="true"></span>
      </a>
      <a href="https://github.com/abarajithan11" target="_blank" rel="noopener" aria-label="Github">
        <span class="icon-github" aria-hidden="true"></span>
      </a>
      <a href="https://aba-blog.xyz/rss" aria-label="RSS">
        <span class="icon-rss" aria-hidden="true"></span>
      </a>
    </nav>
    <p class="m-footer-copyright">
      <span>Aba&#x27;s Blog &copy; 2022</span>
      <span>&nbsp; &bull; &nbsp;</span>
      <span>Published with <a href="https://ghost.org" target="_blank" rel="noopener">Ghost</a></span>
    </p>
    <p class="m-footer-copyright jslicense">
      <a href="../assets/html/javascript.html%3Fv=db4084aed7.html" rel="jslicense">JavaScript license information</a>
    </p>
  </div>
</footer>

    <script crossorigin="anonymous" src="https://polyfill.io/v3/polyfill.min.js?features=IntersectionObserver%2CPromise%2CArray.prototype.includes%2CString.prototype.endsWith%2CString.prototype.startsWith%2CObject.assign%2CNodeList.prototype.forEach"></script>
    <script defer src="../assets/js/manifest.js%3Fv=db4084aed7"></script>
    <script defer src="../assets/js/vendor/content-api.min.js%3Fv=db4084aed7"></script>
    <script defer src="../assets/js/vendor.js%3Fv=db4084aed7"></script>
    <script defer src="../assets/js/app.js%3Fv=db4084aed7"></script>

      <script defer src="../assets/js/post.js%3Fv=db4084aed7"></script>


    <div id="fb-root"></div>
<script async defer crossorigin="anonymous" src="https://connect.facebook.net/en_US/sdk.js#xfbml=1&version=v12.0" nonce="C5ma3g6v"></script>

<script>
    window.addEventListener('DOMContentLoaded', (event) => {
        document.querySelectorAll('pre[class*=language-]').forEach(function (node) {
            node.classList.add('line-numbers');
        });
        Prism.highlightAll();
    });
</script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.26.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.26.0/plugins/line-numbers/prism-line-numbers.min.js"></script>
<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.26.0/plugins/toolbar/prism-toolbar.min.js"></script>
<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.26.0/plugins/copy-to-clipboard/prism-copy-to-clipboard.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.26.0/components/prism-python.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.26.0/components/prism-c.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.26.0/components/prism-cpp.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.26.0/components/prism-matlab.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.26.0/components/prism-tcl.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.26.0/components/prism-verilog.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.26.0/components/prism-latex.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.26.0/components/prism-verilog.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.26.0/components/prism-yaml.min.js"></script>
  </body>
</html>
